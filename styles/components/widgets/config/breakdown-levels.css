/* Estilos para los niveles de desglose */
.data-config {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xxl);
}

/* Estilos específicos de botones para breakdown */
.config-btn-outline {
  background-color: var(--color-surface);
  color: var(--color-primary);
  border: 1px solid var(--color-primary);
}

.config-btn-outline:hover {
  background-color: var(--color-primary-light);
  color: var(--color-primary-dark);
}

/* Botones para añadir desgloses */
.breakdown-add-container {
  position: relative;
}

.breakdown-add-btn {
  align-self: flex-start;
  margin-top: var(--spacing-sm);
}

/* Botón a ancho completo */
.breakdown-add-btn--wide {
  width: 100%;
  padding: var(--spacing-md);
  margin-top: var(--spacing-md);
  justify-content: center;
}

/* Estilos para el dropdown */
.breakdown-dropdown {
  width: 300px;
  max-height: 400px;
  overflow-y: auto;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--color-border);
  background-color: var(--color-surface);
  z-index: 1000;
  position: absolute;
  padding: 0;
}

/* Buscador sticky */
.breakdown-search-container {
  position: sticky;
  top: 0;
  z-index: 5;
  background-color: var(--color-surface);
  padding: var(--spacing-xs) var(--spacing-md);
  border-bottom: 1px solid var(--color-border);
}

.breakdown-search-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.breakdown-search-icon {
  position: absolute;
  left: var(--spacing-xxs);
  color: var(--color-text-muted);
}

.breakdown-search-input {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-xs) var(--spacing-sm)
    calc(var(--spacing-sm) * 2 + 12px);
  border: none;
  border-radius: var(--radius-md);
  background-color: transparent;
  font-size: 0.85rem;
  color: var(--color-text-primary);
}

.breakdown-search-input:focus {
  outline: none;
}

.breakdown-search-clear {
  position: absolute;
  right: var(--spacing-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  cursor: pointer;
  color: var(--color-text-muted);
  padding: 0;
}

.breakdown-search-clear:hover {
  color: var(--color-text-primary);
}

/* Categorías de desglose */
.breakdown-category {
  margin-bottom: var(--spacing-md); /* Mayor separación entre categorías */
  margin-top: var(--spacing-md); /* Mayor separación entre categorías */
}

.breakdown-category:last-child {
  margin-bottom: 0;
}

/* Encabezados simplificados sin fondos coloreados ni bordes */
.breakdown-category__header {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-sm) var(--spacing-md);
  margin-bottom: var(--spacing-sm);
}

.breakdown-category__header--purple {
  border-left: 2px solid #7e22ce; /* Borde lateral sutil */
}

.breakdown-category__header--blue {
  border-left: 2px solid #2563eb; /* Borde lateral sutil */
}

.breakdown-category__header--green {
  border-left: 2px solid #16a34a; /* Borde lateral sutil */
}

.breakdown-category__title {
  margin: 0;
  font-size: 0.8rem;
  font-weight: 500;
}

.breakdown-category__title--purple {
  color: #7e22ce; /* Texto púrpura */
}

.breakdown-category__title--blue {
  color: #2563eb; /* Texto azul */
}

.breakdown-category__title--green {
  color: #16a34a; /* Texto verde */
}

.breakdown-category__description {
  display: none; /* Ocultar descripción para un diseño más limpio */
}

/* Opciones de desglose */
.breakdown-options {
  display: flex;
  flex-direction: column;
  padding: 0;
}

.breakdown-option {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-md) var(--spacing-md); /* Más espacio vertical */
  border: none;
  background: none;
  text-align: left;
  cursor: pointer;
  transition: background-color var(--transition-fast);
  font-size: 0.85rem;
}

.breakdown-option:hover {
  background-color: var(--color-surface-hover);
  color: var(--color-text-primary);
}

/* Iconos simplificados sin fondos */
.breakdown-icon-container {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
}

.breakdown-icon-container--purple {
  background: transparent;
}

.breakdown-icon-container--blue {
  background: transparent;
}

.breakdown-icon-container--green {
  background: transparent;
}

.breakdown-icon--purple {
  color: #7e22ce;
}

.breakdown-icon--blue {
  color: #2563eb;
}

.breakdown-icon--green {
  color: #16a34a;
}

.breakdown-option__title {
  margin: 0;
  font-size: 0.85rem;
  font-weight: 400;
  color: var(--color-text-secondary);
}

.breakdown-dropdown__content {
  padding: var(--spacing-lg);
}

.breakdown-dropdown__content h4 {
  margin: 0 0 var(--spacing-md);
  font-size: 0.9rem;
  color: var(--color-text-primary);
}

.breakdown-dropdown__content p {
  margin: 0;
  font-size: 0.85rem;
  color: var(--color-text-muted);
}

/* Contenedor de icono simplificado */
.breakdown-level__icon-container {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4px;
}

.breakdown-level__icon-container--purple {
  background: transparent;
}

.breakdown-level__icon-container--blue {
  background: transparent;
}

.breakdown-level__icon-container--green {
  background: transparent;
}

/* Iconos con colores */
.breakdown-level__icon--purple {
  color: #7e22ce;
}

.breakdown-level__icon--blue {
  color: #2563eb;
}

.breakdown-level__icon--green {
  color: #16a34a;
}

/* Nombre del nivel */
.breakdown-level__name {
  font-size: 0.9rem;
  font-weight: 400;
  color: var(--color-text-primary);
}

/* Dark theme adjustments - ahora en config-panel.css para los estilos comunes */
[data-theme="dark"] .config-btn-outline {
  background-color: var(--color-surface);
  color: var(--color-primary);
  border-color: var(--color-primary);
}

[data-theme="dark"] .config-btn-outline:hover {
  background-color: var(--color-primary-light);
  color: var(--color-primary-hover);
}

[data-theme="dark"] .breakdown-dropdown {
  background-color: var(--color-surface);
  border-color: var(--color-border);
}

[data-theme="dark"] .breakdown-search-container {
  background-color: var(--color-surface);
  border-bottom-color: var(--color-border);
}

[data-theme="dark"] .breakdown-search-input {
  background-color: transparent;
  border: none;
  color: var(--color-text-primary);
}

[data-theme="dark"] .breakdown-search-input:focus {
  outline: none;
}

[data-theme="dark"] .breakdown-dropdown__content h4 {
  color: var(--color-text-primary);
}

[data-theme="dark"] .breakdown-dropdown__content p {
  color: var(--color-text-muted);
}

/* Dark theme para categorías y opciones */
[data-theme="dark"] .breakdown-category__header--purple {
  border-left: 2px solid #c084fc;
  background-color: transparent;
}

[data-theme="dark"] .breakdown-category__header--blue {
  border-left: 2px solid #60a5fa;
  background-color: transparent;
}

[data-theme="dark"] .breakdown-category__header--green {
  border-left: 2px solid #4ade80;
  background-color: transparent;
}

[data-theme="dark"] .breakdown-category__title--purple {
  color: #c084fc;
}

[data-theme="dark"] .breakdown-category__title--blue {
  color: #60a5fa;
}

[data-theme="dark"] .breakdown-category__title--green {
  color: #4ade80;
}

[data-theme="dark"] .breakdown-category__description--purple {
  color: rgba(192, 132, 252, 0.7); /* Tono púrpura más suave para dark mode */
}

[data-theme="dark"] .breakdown-category__description--blue {
  color: rgba(96, 165, 250, 0.7); /* Tono azul más suave para dark mode */
}

[data-theme="dark"] .breakdown-category__description--green {
  color: rgba(74, 222, 128, 0.7); /* Tono verde más suave para dark mode */
}

[data-theme="dark"] .breakdown-icon-container--purple {
  background: transparent;
}

[data-theme="dark"] .breakdown-icon-container--blue {
  background: transparent;
}

[data-theme="dark"] .breakdown-icon-container--green {
  background: transparent;
}

[data-theme="dark"] .breakdown-icon--purple {
  color: #c084fc;
}

[data-theme="dark"] .breakdown-icon--blue {
  color: #60a5fa;
}

[data-theme="dark"] .breakdown-icon--green {
  color: #4ade80;
}

[data-theme="dark"] .breakdown-option:hover {
  background-color: var(--color-surface-hover);
}

[data-theme="dark"] .breakdown-option__title {
  color: var(--color-text-primary);
}

/* Dark theme para niveles seleccionados - estilos base ahora en config-panel.css */
[data-theme="dark"] .breakdown-level__icon-container--purple {
  background: transparent;
}

[data-theme="dark"] .breakdown-level__icon-container--blue {
  background: transparent;
}

[data-theme="dark"] .breakdown-level__icon-container--green {
  background: transparent;
}

[data-theme="dark"] .breakdown-level__icon--purple {
  color: #c084fc;
}

[data-theme="dark"] .breakdown-level__icon--blue {
  color: #60a5fa;
}

[data-theme="dark"] .breakdown-level__icon--green {
  color: #4ade80;
}

/* Estilos para tema oscuro - cabecera y placeholder ahora en config-panel.css */
[data-theme="dark"] .breakdown-levels__placeholder p {
  color: var(--color-text-muted);
  opacity: 0.6;
}
